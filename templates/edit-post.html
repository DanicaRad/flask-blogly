{% extends 'base.html' %}
{% block title %}Edit Post {{post.id}}{% endblock %}

{% block content %}

<h2>Edit Post</h2>

<form action="/posts/{{ post.id }}/edit" method="POST">

    <div class="form-group row">
        <label for="title" class="col-sm-1 col-form-label">Title</label>
        <div class="col-sm-4">
            <input type="text" name="title" id="title" class="form-control" value="{{ post.title }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="content" class="col-sm-1 col-form-label">Content</label>
        <div class="col-sm-auto">
            <textarea name="content" cols="50" rows="5" class="form-control">{{ post.content }}</textarea>
        </div>
    </div>

    {% for tag in tags %}
    <div class="form-group row">
        <div class="col-sm-auto">
            {% if tag in post.tags %}
                <input type="checkbox" name="tag_id" value="{{ tag.id }}" checked>
                <label for="tag_id">{{ tag.name }}</label>

                {% else %}
                    <input type="checkbox" name="tag_id" value="{{ tag.id }}">
                    <label for="tag_id">{{ tag.name }}</label>
            {% endif %}
        </div>
    </div>
    {% endfor %}

    <div class="row">
        <a class="btn btn-outline-success btn-md col-sm-auto" href="/users/{{ post.author }}">Cancel</a>
        <button class="btn btn-success btn-md col-sm-auto" type="submit">Update</button>
    </div>
</form>

{% endblock %}